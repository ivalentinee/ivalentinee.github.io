<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
<title>Запись звука в Linux</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Запись звука в Linux"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-08-12"/>
<meta name="author" content="Emperor"/>
<meta name="description" content=""/>
<meta name="keywords" content="linux ardour jack debian guitarix rakarrack qjackctl"/>

<link rel="stylesheet" type="text/css" href="/stylesheets/pure-min.css">
<link rel="stylesheet" type="text/css" href="/stylesheets/post-style.css" />
<link rel="stylesheet" type="text/css" href="/stylesheets/post-layout.css" />
<link rel="stylesheet" type="text/css" href="/stylesheets/hide-copyright.css" />
<link rel="stylesheet" type="text/css" href="/stylesheets/menu.css" />
<script async="true" src="/javascript/run_prettify.js"></script>
<link rel="stylesheet" type="text/css" href="/stylesheets/google-code-prettify/desert-theme.css" />

</head>
<body>

<div id="preamble">
<div class="header"><h1>Запись звука в Linux</h1><h2></h2></div>
</div>

<div class="content" id="content">

<div id="menu">
  <div class="pure-menu pure-menu-open">
    <a class="pure-menu-heading" href="/">Блог</a>
    <ul>
      <li><a href="/index.html">Записи</a></li>
      <li><a href="http://northempire.tk/">Домой</a></li>
    </ul>
  </div>
</div>



<div id="table-of-contents">
<h1>&#1057;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1085;&#1080;&#1077;</h1>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Вступление</a></li>
<li><a href="#sec-2">2 Хардварь</a>
<ul>
<li><a href="#sec-2-1">2.1 Компьютер.</a></li>
<li><a href="#sec-2-2">2.2 Способ доставки звука.</a></li>
<li><a href="#sec-2-3">2.3 Пара лишних инструментальных кабелей.</a></li>
</ul>
</li>
<li><a href="#sec-3">3 Программочки</a>
<ul>
<li><a href="#sec-3-1">3.1 Realtime kernel</a></li>
<li><a href="#sec-3-2">3.2 Jack Audio Connection Kit (JACK)</a>
<ul>
<li><a href="#sec-3-2-1">3.2.1 QJackCtl</a>
<ul>
<li><a href="#sec-3-2-1-1">3.2.1.1 Настройка</a></li>
<li><a href="#sec-3-2-1-2">3.2.1.2 Соединения</a></li>
<li><a href="#sec-3-2-1-3">3.2.1.3 Коммутатор</a></li>
</ul>
</li>
<li><a href="#sec-3-2-2">3.2.2 Ещё немного про JACK</a></li>
</ul>
</li>
<li><a href="#sec-3-3">3.3 Микшер</a></li>
<li><a href="#sec-3-4">3.4 Графический коммутатор</a></li>
<li><a href="#sec-3-5">3.5 LADSPA Host</a></li>
<li><a href="#sec-3-6">3.6 Метроном</a></li>
<li><a href="#sec-3-7">3.7 Тюнер</a></li>
<li><a href="#sec-3-8">3.8 DAW</a></li>
<li><a href="#sec-3-9">3.9 Драммашина</a>
<ul>
<li><a href="#sec-3-9-1">3.9.1 Hydrogen</a></li>
<li><a href="#sec-3-9-2">3.9.2 Drumgizmo</a></li>
</ul>
</li>
<li><a href="#sec-3-10">3.10 Процессоры эффектов</a>
<ul>
<li><a href="#sec-3-10-1">3.10.1 Guitarix</a></li>
<li><a href="#sec-3-10-2">3.10.2 Rakarrack</a></li>
</ul>
</li>
<li><a href="#sec-3-11">3.11 Синтезаторы</a></li>
<li><a href="#sec-3-12">3.12 Calf</a></li>
<li><a href="#sec-3-13">3.13 Convolver</a></li>
<li><a href="#sec-3-14">3.14 Looper</a></li>
<li><a href="#sec-3-15">3.15 Визуализация</a></li>
</ul>
</li>
<li><a href="#sec-4">4 Примеры записей</a></li>
<li><a href="#sec-5">5 Мои вопросы</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-1">
<h1 id="sec-1"><span class="section-number-1">1</span> Вступление</h1>
<div class="outline-text-1" id="text-1">

<p>Однажды давно (полгода назад) мне было немного скучно и я занялся написанием пары статей в блог по указанной теме. Оригинальные статьи писались для ресурса <a href="http://basslife.ru/">basslife</a>.<br/>
Оригинальные записи:<br/>
<a href="http://www.basslife.ru/forum/blog.php?u=39367&amp;b=161">первая часть</a><br/>
<a href="http://www.basslife.ru/forum/blog.php?u=39367&amp;b=162">вторая часть</a><br/>
<a href="http://www.basslife.ru/forum/blog.php?u=39367&amp;b=163">третья часть</a><br/>
</p>
<p>
Здесь я хочу их продублровать по двум причинам:
</p><ol>
<li>Потешить себя лишней записью в бложике.
</li>
<li>Объединить три статьи в одну.
</li>
<li>Исправить недочёты, дополнить описания, получить отзывы от других людей.
</li>
</ol>

<p>Если в ходе статьи будут обнаружены какие-то речевые или фактические ошибки, если будут предложения по улучшению или дополненю текста статьи, то можно смело писать в комментариях, <a href="mailto:valentine.emperor@gmail.com">на почту</a>, во <a href="https://vk.com/v_emperor">вконтач</a>, в <a href="https://plus.google.com/111577518760980284675/posts">Google+</a> <a href="https://plus.google.com/b/115819682119425269708/115819682119425269708">(ещё Google+</a>) и даже на <a href="https://github.com/vemperor/Blog-Source">github</a>.
</p>
</div>

</div>

<div id="outline-container-2" class="outline-1">
<h1 id="sec-2"><span class="section-number-1">2</span> Хардварь</h1>
<div class="outline-text-1" id="text-2">

<p>Для записи звука в Linux (да и не только в Linux) нам потребуется некоторое количество аппаратного обеспечения. Подразумевается, что базовый набор для игры на инструменте у нас есть (инструмент, комбарь и кабель для подключения).
</p>

</div>

<div id="outline-container-2-1" class="outline-2">
<h2 id="sec-2-1"><span class="section-number-2">2.1</span> Компьютер.</h2>
<div class="outline-text-2" id="text-2-1">

<p>Не то чтобы нужна ужасная производительность, но некоторые программы эмулируют эффекты, а это - достаточно затратно (особенно в режиме реального времени). <del>Мне для счастья хватает Asus X501A</del> для простой записи &mdash; да, но как только дело касается достаточного количества виртуальных инструментов, всё начинает <a href="http://lurkmore.so/images/thumb/7/78/Slowpoke.svg/200px-Slowpoke.svg.png">жутко тормозить</a>.
</p>
</div>

</div>

<div id="outline-container-2-2" class="outline-2">
<h2 id="sec-2-2"><span class="section-number-2">2.2</span> <a href="#Http-ru.wikipedia.org-wiki---_">Способ доставки звука</a>.</h2>
<div class="outline-text-2" id="text-2-2">

<p>Например, звуковая карта. Обычно крестьяне вроде меня пользуют простые решения в виде внешних USB-карт. В моём случае это <a href="http://alesis.com/io4">Alesis IO4</a>. В любом случае тут есть один важный пункт &mdash; <b>карта должна работать под Linux</b>! <a href="http://risovach.ru/upload/2012/hand/nelzya-prosto-tak-vzyat-i_orig_.jpg">Нельзя просто так взять и купить звуковую карту</a>. Желательно как минимум прочитать отзывы в интернете. Могут понадобится знания <a href="http://lurkmore.to/Английский_язык">Буржуйского Языка</a> (но мы же уже как-то поставили Linux на свою несчастную ЭВМ? :) ). Если есть возможность включить и проверить™, то лучше так и сделать. Ещё одно важно замечание: карта вполне может работать под Linux, но все ваши могучие битрейты и прочие запредельные характеристики будут ограничены сверху возможностями системы - надо быть к этому готовым.
</p>
</div>

</div>

<div id="outline-container-2-3" class="outline-2">
<h2 id="sec-2-3"><span class="section-number-2">2.3</span> Пара лишних инструментальных кабелей.</h2>
<div class="outline-text-2" id="text-2-3">

<p>Даже если Вы не пользуетесь примочками, то вполне вероятно, что Ваша звуковая карта умеет мониторинг - уже лишний кабель, а если всё сложно и потребуется страшная схема - то и не один.
</p>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-1">
<h1 id="sec-3"><span class="section-number-1">3</span> Программочки</h1>
<div class="outline-text-1" id="text-3">

<p>Вот тут-то и начинается <a href="http://memesmix.net/media/created/nsf4hy.jpg">Безудержное Веселье</a>.
</p>

</div>

<div id="outline-container-3-1" class="outline-2">
<h2 id="sec-3-1"><span class="section-number-2">3.1</span> Realtime kernel</h2>
<div class="outline-text-2" id="text-3-1">

<p>Те, кто не очень понимают, что это и зачем, могут прочитать <a href="http://www.ozon.ru/context/detail/id/6140231/">вот эту замечательную книгу</a>. Я сам её не читал, но люто рекомендую :).
</p>
<p>
В Debian пакет называется <a href="http://packages.debian.org/wheezy/linux-image-rt-amd64">linux-image-rt-&lt;ваша архитектура&gt;</a>. Если собираемся записываться - перезагружаемся и выбираем в загрузчике наше RT-ядро.
</p>
</div>

</div>

<div id="outline-container-3-2" class="outline-2">
<h2 id="sec-3-2"><span class="section-number-2">3.2</span> <a href="http://jackaudio.org/">Jack Audio Connection Kit (JACK)</a></h2>
<div class="outline-text-2" id="text-3-2">

<p>Мой любимый пункт. Что это и с чем жуют в подробностях написано на <a href="https://wiki.archlinux.org/index.php/JACK_Audio_Connection_Kit">Arch Wiki</a>. Я расскажу вкратце.
</p>
<p>
Jack - звуковой сервер с низкой задержкой. Умеет работать поверх всего (вроде даже c <a href="http://www.freedesktop.org/wiki/Software/PulseAudio/">Pulseaudio</a> научился работать). Итак, у нас есть звуковой сервер. "Зачем?" &mdash; спросите вы. А я расскажу. Допустим, что наши программы не просто так швыряют звук во всё что ни есть в системе, а есть <i>клиенты</i>. <i>Клиенты</i> нашего звукового <i>сервера</i>. Будучи <i>клиентами</i>, приложения имеют <i>входы</i> и <i>выходы</i>. А что делают со <i>входами</i> и <i>выходами</i>? Правильно, соединяют. Но если обычно ответственность за соединение всего и вся висит на приложении, то тут коммутацией занимается <i>сервер</i>. Это в свою очередь позволяет нам <b>соединять что угодно с чем угодно в произвольном порядке</b>, составляя любую нужную нам цепь. Круто, да?
</p>
<p>
Итак, про сам Jack-сервер мы немного узнали. Но как нам прожевать эту магию? Правильный ответ &mdash; с болью.
</p>
<p>
Базовую настройку этой радости я описывать не буду &mdash; читайте на <a href="https://wiki.archlinux.org/index.php/JACK_Audio_Connection_Kit">Arch Wiki</a>.
</p>
<p>
Отвечу на свой же вопрос, возникший у меня однажды. Много позже, когда вы уже запустите сервер и будете развлекаться с эффектами, вы спросите: "Что такое XRUN и почему когда он красненький и больше нуля, то всё падает?". Так вот, когда сервер принимает звук на обработку, информация поступает к нему выборками по сколько-нибудь байт. В случае, если сервер не успевает обработать выборку, он пропускает текущую и принимается за следующую. Так вот такие ошибки и обозначаются волшебным числом XRUN. Впринципе, само наличие таких ошибок не страшно - главное, чтобы оно не увеличивалось с постоянной скоростью, иначе Jack-сервер упадёт. Как бороться с этими ошибками? Увеличивать размер выборки. Но latency будет расти. Вот такая вот печаль.
</p>
<p>
Ладно, отвлеклись на XRUN. Теперь продолжим про запись звука.
</p>

</div>

<div id="outline-container-3-2-1" class="outline-3">
<h3 id="sec-3-2-1"><span class="section-number-3">3.2.1</span> <a href="http://qjackctl.sourceforge.net/">QJackCtl</a></h3>
<div class="outline-text-3" id="text-3-2-1">

<p>QJackCtl - графическая утилита, написанная с использованием библиотеки <a href="http://qt.digia.com/">Qt</a>. Без этой утилиты использование Jack является болью. Особенно для тех, кто с ним мало знаком. Во всех известных мне дистрибутивах пакет так и называется &mdash; <a href="http://packages.debian.org/ru/wheezy/qjackctl">qjackctl</a>.
</p>
<p>
<a title="img-t:qjackctl.png" href="/images/qjackctl.png"><img src="/images/thumbnails/qjackctl.png"></a>
</p>

</div>

<div id="outline-container-3-2-1-1" class="outline-4">
<h4 id="sec-3-2-1-1"><span class="section-number-4">3.2.1.1</span> Настройка</h4>
<div class="outline-text-4" id="text-3-2-1-1">

<p>Первая полезная функция этой улититы - настройка самого Jack. После запуска QJackCtl нажимаем на <i>Параметры</i>. Про "магические настройки" смотрите в Arch Wiki. Пока что нас будут интересовать поля <i>Интерфейс</i> и <i>Драйвер</i>.<br/>
В большинстве случаев в поле <i>Драйвер</i> должно быть написано "alsa" (все буквы в нижнем регистре - это важно). Скорее всего у Вас это поле уже заполнено как надо.
</p>
<p>
Поле <i>Интерфейс</i> - то, что нам нужно. Тут мы должны проставить нашу звуковую карту. Для этого тыкаем на стрелку вправо, которая находится рядом с самим полем. У меня там есть пункт "IO4". У вас что-то своё.
</p>
<p>
В правом нижнем углу будет приблизительная задержка. На своём железе с RT-ядром и прочими фиксами у меня задержка в 2 мс почти без XRUN'ов. И это с процессорами эффектов, о которых позже.
</p>
<p>
Для любителей посинтезировать клавишами нужно поправить ещё одно поле - <i>Драйвер MIDI</i>. Там вместо "нет" нужно поставить либо "raw" либо "seq". Про драйвер MIDI для JACK можно почитать <a href="http://www.alsa-project.org/~tiwai/lk2k/lk2k.html">вот тут</a>.
</p>
<p>
После того, как мы настроили Jack, надо его запустить. Для этого надо нажать <i>Запустить</i>.<br/>
После этого надо дать нашему серверу приоритет реального времени. Для этого открываем терминал и вбиваем команду
</p>


<pre name="code" class="prettyprint lang-sh">
ps -A | grep jackd
</pre>

<p>
Сие нам выдаст PID нужного процесса. После этого вбиваем команду
</p>


<pre name="code" class="prettyprint lang-sh">
sudo renice -20 &lt;pid&gt;
</pre>

<p>
где <i>pid</i> - это та самая циферка в выводе первой команды.
</p>
<p>
<a title="img-t:renice-jackd.png" href="/images/renice-jackd.png"><img src="/images/thumbnails/renice-jackd.png"></a>
</p>
<p>
Вообще полезно прочитать про команду <a href="http://en.wikipedia.org/wiki/Nice_(Unix)">nice</a>.
</p>
</div>

</div>

<div id="outline-container-3-2-1-2" class="outline-4">
<h4 id="sec-3-2-1-2"><span class="section-number-4">3.2.1.2</span> Соединения</h4>
<div class="outline-text-4" id="text-3-2-1-2">


<p>
Для работы с соединениями есть кнопка <i>Соединения</i>. Удивительно, не правда ли? Итак, открывшееся окно у нас поделено на две части. Левая - входы. Правая - выходы. Остальное достаточно интуитивно.
</p>
<p>
<a title="img-t:qjackctl-connections.png" href="/images/qjackctl-connections.png"><img src="/images/thumbnails/qjackctl-connections.png"></a>
</p>
<p>
Стоит отметить, что <i>system</i> &mdash; это входы и выходы звуковой карты. Остальное &mdash; различные приложения.
Три основные вкладки &mdash; <i>Звук</i>, <i>MIDI</i> и <i>ALSA</i>. Для работы с обычными клиентами нам нужна вкладка Звук. Я ещё иногда подключаю USB-Midi клаву &mdash; для таких соединений нужна вкладка MIDI.
</p>
</div>

</div>

<div id="outline-container-3-2-1-3" class="outline-4">
<h4 id="sec-3-2-1-3"><span class="section-number-4">3.2.1.3</span> Коммутатор</h4>
<div class="outline-text-4" id="text-3-2-1-3">

<p>Каждый раз проставлять соединения? Может быть. А если их 50? 100? Тут-то нам на помощь и приходит <i>Коммутатор</i>.
</p>
<p>
<i>Коммутатор</i> позволяет завадавать схемы соединений и сохранять их в файлы. Для запоминания этого дела используются имена клиентов и названия их входов/выходов. Для добавления соединения тыкаем на добавить, выбираем приложение и вход/выход. Затем соединяем нужные нам приложения и нажимаем сохранить. Остальное достаточно интуитивно.
</p>
<p>
<a title="img-t:qjackctl-commutator.png" href="/images/qjackctl-commutator.png"><img src="/images/thumbnails/qjackctl-commutator.png"></a>
</p>
</div>
</div>

</div>

<div id="outline-container-3-2-2" class="outline-3">
<h3 id="sec-3-2-2"><span class="section-number-3">3.2.2</span> Ещё немного про <a href="http://jackaudio.org/">JACK</a></h3>
<div class="outline-text-3" id="text-3-2-2">

<p>Есть ещё одна функция у Jack, о которой я хочу рассказать. И эта функция касается времени и темпа.
</p>
<p>
Для тех приложений, у которых есть темп и/или текущее время (положение в проигрываемой композиции), Jack предоставляет возможность обмена этой информацией. Для этого задаётся один master, который и определяет общий темп и текущее время.
</p>
<p>
Например, используя драммашину и лупер (о которых я расскажу далее), необходимо их настраивать так, чтобы одно работало синхронно с другим. Для этого драммашина выставляется в master, а в лупере нужно поставить галочку "синхронизация с Jack" - таким образом лупер будет синхронизироваться с драммашиной. Очень удобно.
</p>
<p>
На всякий случай укажу страницу, на которой есть список приложений, работающих с Jack Audio Connection Kit: <a href="http://jackaudio.org/applications">http://jackaudio.org/applications</a>.
</p>
</div>
</div>

</div>

<div id="outline-container-3-3" class="outline-2">
<h2 id="sec-3-3"><span class="section-number-2">3.3</span> Микшер</h2>
<div class="outline-text-2" id="text-3-3">

<p>Думаю, никто не будет сомневаться, что централизованное управление громкостью каналов необходимо для полноценной записи звука. И такое приложение есть. <a href="http://home.gna.org/jackmixer/">Jack Mixer</a>.
</p>
<p>
Сам по себе <a href="http://home.gna.org/jackmixer/">Jack Mixer</a> достаточно прост. Можно даже сказать, что он примитивен. Но для работы с Jack его вполне достаточно.
</p>
<p>
<a title="img-t:jack-mixer.png" href="/images/jack-mixer.png"><img src="/images/thumbnails/jack-mixer.png"></a>
</p>
<p>
В Mixer'е есть два вида каналов: <i>входные</i> и <i>выходные</i>. Каждый из них может быть как стерео, так и моно. Выходными каналами я не пользуюсь (кроме MAIN - общий канал). Входные же использую для подключения в них приложений. При этом каждый из каналов имеет свой выход.
</p>
<p>
Вообще, в идеале всё можно подключать через Mixer, но лучше найти оптимальную схему.
Настройки Mixer'а можно сохранять в файл.
</p>
<p>
<b>Важное замечание:</b> jack-mixer будучи включенным нарушает работу некоторых программ, среди которых Ardour, так что я от микшера отказался.
</p>
</div>

</div>

<div id="outline-container-3-4" class="outline-2">
<h2 id="sec-3-4"><span class="section-number-2">3.4</span> Графический коммутатор</h2>
<div class="outline-text-2" id="text-3-4">

<p>Графический коммутатор предназначен для тех, кто любит поперетаскивать соединения. Для этого существует приложение Patchage.
Достаточно красивая утилита, интерфейс интуитивен. Но в её удобстве я немного сомневаюсь.
</p>
<p>
<a title="img-t:patchage.png" href="/images/patchage.png"><img src="/images/thumbnails/patchage.png"></a>
</p>
</div>

</div>

<div id="outline-container-3-5" class="outline-2">
<h2 id="sec-3-5"><span class="section-number-2">3.5</span> LADSPA Host</h2>
<div class="outline-text-2" id="text-3-5">

<p><a href="http://ru.wikipedia.org/wiki/LADSPA">LADSPA</a> &mdash; это как VST, только под ринупс. Соответственно для LADSPA должен быть хост. Одним из таких является <a href="http://jack-rack.sourceforge.net/">Jack Rack</a>. Можно эффекты в цепь добавлять, можно удалять, можно настраивать. Достаточно прост.
</p>
<p>
<a title="img-t:jack-rack.png" href="/images/jack-rack.png"><img src="/images/thumbnails/jack-rack.png"></a>
</p>
</div>

</div>

<div id="outline-container-3-6" class="outline-2">
<h2 id="sec-3-6"><span class="section-number-2">3.6</span> Метроном</h2>
<div class="outline-text-2" id="text-3-6">

<p>В качестве метронома я использую <a href="http://das.nasophon.de/gtklick/">Gtklick</a>.
Снова очень простая программа. Даже описывать не буду.
</p>
<p>
<a title="img-t:gtklick.png" href="/images/gtklick.png"><img src="/images/thumbnails/gtklick.png"></a>
</p>
</div>

</div>

<div id="outline-container-3-7" class="outline-2">
<h2 id="sec-3-7"><span class="section-number-2">3.7</span> Тюнер</h2>
<div class="outline-text-2" id="text-3-7">

<p>Тюнеров под Jack как и метрономов много. Я пробовал некоторые из них и более всего мне понравился <a href="http://freecode.com/projects/lingot">Lingot</a>.
</p>
<p>
<a title="img-t:lingot.png" href="/images/lingot.png"><img src="/images/thumbnails/lingot.png"></a>
</p>
</div>

</div>

<div id="outline-container-3-8" class="outline-2">
<h2 id="sec-3-8"><span class="section-number-2">3.8</span> <a href="http://ru.wikipedia.org/wiki/Цифровая_звуковая_рабочая_станция">DAW</a></h2>
<div class="outline-text-2" id="text-3-8">

<p>Среди DAW для Jack мне известны <a href="http://ardour.org/">Ardour</a> и <a href="http://traverso-daw.org/">Traverso</a>. С натяжкой таковым можно считать ещё и <a href="http://qtractor.sourceforge.net/qtractor-index.html">QTractor</a>, но его лучше назвать audio/midi секвенсором.
</p>
<p>
Я пользуюсь <a href="http://ardour.org/">Ardour</a>, поэтому считаю его лучшим :) . Описывать подробности не буду, ибо их там ОЧЕНЬ много, но скажу, что кто-то в интернетах называл Ardour похожим на Pro Tools. Не знаю, насколько это правда, потому что в жизни не видел Pro Tools.
</p>
<p>
<a title="img-t:ardour.png" href="/images/ardour.png"><img src="/images/thumbnails/ardour.png"></a>
</p>
</div>

</div>

<div id="outline-container-3-9" class="outline-2">
<h2 id="sec-3-9"><span class="section-number-2">3.9</span> Драммашина</h2>
<div class="outline-text-2" id="text-3-9">


</div>

<div id="outline-container-3-9-1" class="outline-3">
<h3 id="sec-3-9-1"><span class="section-number-3">3.9.1</span> <a href="http://www.hydrogen-music.org/hcms/">Hydrogen</a></h3>
<div class="outline-text-3" id="text-3-9-1">

<p>Так как редко у кого есть персональный ударник с собой и установкой 24/7, удобно иметь драммашину. Единственным нормальным творением под Jack такого рода является <a href="http://www.hydrogen-music.org/hcms/">Hydrogen</a>.
</p>
<p>
Умеет много чего приятного, в том числе делиться текущими временем и темпом с другими Jack-приложениями.
</p>
<p>
<a title="img-t:hydrogen.png" href="/images/hydrogen.png"><img src="/images/thumbnails/hydrogen.png"></a>
</p>
<p>
Но тут есть одно замечание. У меня не заработало переключение на Jack из <a href="http://ru.wikipedia.org/wiki/Графический_интерфейс_пользователя">гуйца</a>. Для того, чтобы Hydrogen стал работать так, как нам надо, нужно открыть файл <span style="text-decoration:underline;">~/.hydrogen/hydrogen.conf</span>. Там знакомый многим XML. Ищем строку
</p>



<pre name="code" class="prettyprint lang-xml">
&lt;audio_driver&gt;Alsa&lt;/audio_driver&gt;
</pre>


<p>
и заменяем её вот этой
</p>



<pre name="code" class="prettyprint lang-xml">
&lt;audio_driver&gt;Jack&lt;/audio_driver&gt;
</pre>


<p>
Если хотим сделать его master'ом, то тыкаем на <i>J.MASTER</i>, если хотим вообще отключить транспорт времени и темпа, то тыкаем на <i>J.TRANS</i> (при этом звук будет всё равно идти через Jack).
</p>
</div>

</div>

<div id="outline-container-3-9-2" class="outline-3">
<h3 id="sec-3-9-2"><span class="section-number-3">3.9.2</span> <a href="http://drumgizmo.org/">Drumgizmo</a></h3>
<div class="outline-text-3" id="text-3-9-2">

<p>Ещё одна драммашина. Представляет из себя LV2-плагин с миди входом и аудио выходом, так что как в Hydrogen не получится записать партию в самой программе, зато удобно использовать с Ardour, прописывая партию в midi дорожке.
</p>
<p>
<a title="img-t:drumgizmo.png" href="/images/drumgizmo.png"><img src="/images/thumbnails/drumgizmo.png"></a>
</p>
<p>
Заметно выделяется тем, что использует неимоверное количество памяти и процессора, иногда даже Ardour вылетает из-за него.
</p>
<p>
На <a href="http://drumgizmo.org/">офф. сайте</a> есть три установки для скачивания, но <a href="http://www.drumgizmo.org/wiki/doku.php?id=kits:muldjordkit">единственная более-менее нормальная</a> распространяется под лицензией, не разрешающей коммерческое использование.
</p>
</div>
</div>

</div>

<div id="outline-container-3-10" class="outline-2">
<h2 id="sec-3-10"><span class="section-number-2">3.10</span> Процессоры эффектов</h2>
<div class="outline-text-2" id="text-3-10">

<p>По моему опыту, записать бас достаточно просто: берём линейный сигнал, проходимся по нему немного компрессором и готово. А вот с гитарастами всё намного тяжелее. Дист, воткнутый в линию выдаёт жужжание и лютый треск, а на клине слушать линейный сигнал гитары просто невозможно. Надо что-то делать с этим. Вот как раз для этого я обычно использую процессоры эффектов.
</p>
<p>
Мне известно две более-менее продвинутых программы: <a href="http://guitarix.sourceforge.net/">Guitarix</a> и <a href="http://rakarrack.sourceforge.net/">Rakarrack</a>.
</p>

</div>

<div id="outline-container-3-10-1" class="outline-3">
<h3 id="sec-3-10-1"><span class="section-number-3">3.10.1</span> <a href="http://guitarix.sourceforge.net/">Guitarix</a></h3>
<div class="outline-text-3" id="text-3-10-1">


<p>
<a title="img-t:guitarix.png" href="/images/guitarix.png"><img src="/images/thumbnails/guitarix.png"></a>
</p>
<p>
Для тех, кто знаком с GuitarRig интерфейс покажется знакомым. Да и функции примерно такие же. Кабинеты, усилители, перегрузы&hellip; Всё в этом духе. Незаменимая вещь. Есть несколько встроенных пресетов, которые хорошо звучат.
</p>
<p>
Стоит только сказать, что поменять порядок эффектов или удалить их можно нажав на <i>Config Mode</i>, а чтобы выйти из этого режима, снова нажать на <i>Config Mode</i>.
</p>
</div>

</div>

<div id="outline-container-3-10-2" class="outline-3">
<h3 id="sec-3-10-2"><span class="section-number-3">3.10.2</span> <a href="http://rakarrack.sourceforge.net/">Rakarrack</a></h3>
<div class="outline-text-3" id="text-3-10-2">


<p>
<a title="img-t:rakarrack.png" href="/images/rakarrack.png"><img src="/images/thumbnails/rakarrack.png"></a>
</p>
<p>
Rakarrack имеет свои особенности.
</p>
<p>
Первая особенность - настройки трогать руками не стоит (те, которые Settings → Preferences), потому что вероятность падения в таком случае возрастает многократно.
</p>
<p>
Вторая особенность - совершенно безумные эффекты, например генератор шума на основе сигнала или "имитация" человеческого голоса на основе всё того же сигнала. 60 пресетов из коробки, полных космических цепей.
</p>
<p>
Если вы любите играть Ambient, но не умеете или не имеете фортепиано, то Rakarrack - то, что вам нужно.
</p>
<p>
<a title="img-t:rakarrack-banks.png" href="/images/rakarrack-banks.png"><img src="/images/thumbnails/rakarrack-banks.png"></a>
</p>
</div>
</div>

</div>

<div id="outline-container-3-11" class="outline-2">
<h2 id="sec-3-11"><span class="section-number-2">3.11</span> Синтезаторы</h2>
<div class="outline-text-2" id="text-3-11">


<p>
Тут я, к сожалению, совсем не в теме. Ибо не пользую особо. Единственное приложение, которое я хоть иногда запускаю &mdash; <a href="http://qsynth.sourceforge.net/qsynth-index.html">Qsynth</a>, который является графической оболочкой для <a href="http://sourceforge.net/apps/trac/fluidsynth/">fluidsynth</a>. Пока без скриншотиков и инструкций, ибо лень. Может быть потом как-нибудь доделаю. В любом случае, синтезаторами я не пользуюсь, да и не думаю, что fluidsynth является лучшим решением.
</p>
</div>

</div>

<div id="outline-container-3-12" class="outline-2">
<h2 id="sec-3-12"><span class="section-number-2">3.12</span> <a href="http://calf.sourceforge.net/">Calf</a></h2>
<div class="outline-text-2" id="text-3-12">

<p>Стоит отдельного упоминания. <a href="http://calf.sourceforge.net/">Calf</a> &mdash; пакет студийных эффектов в виде LV2-плагинов. Среди них есть несколько синтезаторов, компрессор, delay, reverb и многие другие. Сейчас полностью перешёл на эти обработчики.
</p>
</div>

</div>

<div id="outline-container-3-13" class="outline-2">
<h2 id="sec-3-13"><span class="section-number-2">3.13</span> Convolver</h2>
<div class="outline-text-2" id="text-3-13">

<p>Многим, работавшим со всякими Guitar Rig'ами и Amplitube'ами эта штука известна как <a href="https://ru.wikipedia.org/wiki/Импульсная_переходная_функция">Impulse Response</a> (что не совсем верно).
</p>
<p>
Я особо в матане не разбраюсь, поэтому пояснить про математическую основу не могу. Изучайте матан!<br/>
Если объяснять для таких людей как я, то такие обработчики моделируют прохождение сигнала через моделируемую цепь с помощью заранее записанного <a href="https://ru.wikipedia.org/wiki/Импульсная_переходная_функция">отклика</a>.
</p>
<p>
В linux мне известно два convolver'а: встроенный в Rakarrack и <a href="http://factorial.hu/plugins/lv2/ir">ir.lv2</a>. Rakarrack'овый меня не очень устраивает, поэтому я пользуюсь <a href="http://factorial.hu/plugins/lv2/ir">ir.lv2</a>.
</p>
<p>
Как видно из названия, <a href="http://factorial.hu/plugins/lv2/ir">ir.lv2</a> является <a href="http://ru.wikipedia.org/wiki/LV2">lv2</a> плагином, что делает его использование очень удобным вместе с <a href="#DAW">Ardour</a>. Использовать достаточно просто, нужно только найти файлы отклюков. Настройки пока что не особо ковырял, но хочу обратить внимание на то, что ползунок Dry надо сразу установить в 0, потому как сырой сигнал нас в большинстве случаев не интересует :)
</p>
<p>
Конкретно я использую <a href="http://factorial.hu/plugins/lv2/ir">ir.lv2</a> для моделирования гитарных и басовых усилителей, файлы откликов которых легко гуглятся.
</p></div>

</div>

<div id="outline-container-3-14" class="outline-2">
<h2 id="sec-3-14"><span class="section-number-2">3.14</span> Looper</h2>
<div class="outline-text-2" id="text-3-14">

<p>Луперов под Jack тоже предостаточно. Даже в Rakarrack'е есть свой. Но я более всего пользуюсь <a href="http://essej.net/sooperlooper/">SooperLooper</a>.
</p>
<p>
<a title="img-t:sooperlooper.png" href="/images/sooperlooper.png"><img src="/images/thumbnails/sooperlooper.png"></a>
</p>
<p>
Пользоваться SooperLooper не очень просто, поэтому я напишу пару строк на эту тему.
</p>
<p>
Во-первых, для особых любителей скажу, что нужное нам приложение называется в системе не sooperlooper, а slgui, ибо сам sooperlooper - демон.
</p>
<p>
После запуска мы увидим одну пустую дорожку и общие настройки сверху. SooperLooper умеет полноценно обрабатывать midi-события, так что если у вас завалался midi-контроллер &mdash; возрадуйтеся. У меня не завалялся :( .
</p>
<p>
Я опишу тот случай, когда мы пользуем лупер с Hydrogen.<br/>
Первым делом проставим в поле sync to значение Jack/Host. Темп у нас автоматически проставится такой же, как и в Hydrogen. Далее выставляем quantize : cycle.<br/>
Теперь к настройкам дорожек. Там надо ткнуть на sync и play sync. В таком случае у нас дорожка будет автоматически выравниваться с Hydrogen'ом. Пожалуй, всё.
</p>
<p>
Как работают кнопочки record, overdub и прочие большие синенькие кнопки, предлагаю разобраться экспериментально :) .
</p>
</div>

</div>

<div id="outline-container-3-15" class="outline-2">
<h2 id="sec-3-15"><span class="section-number-2">3.15</span> Визуализация</h2>
<div class="outline-text-2" id="text-3-15">

<p>В этом пункте я упомяну приложения, которые делают на основе звука картинку.
</p>
<p>
Я пробовал несколько таких, но заработал у меня нормально только <a href="http://projectm.sourceforge.net/">ProjectM</a>. Для работы с Jack есть отдельный пакет &mdash; <a href="http://packages.debian.org/ru/wheezy/projectm-jack">projectm-jack</a>.
</p>
<p>
Программа достаточно тривиальна. Для того, чтобы попасть в меню, надо нажать Ctrl-M, это &mdash; единственное, о чём здесь стоит упомянуть. Посмотрите видосики или скриншотики на официальном сайте. Есть очень даже симпатичные визуализаторы.
</p>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-1">
<h1 id="sec-4"><span class="section-number-1">4</span> Примеры записей</h1>
<div class="outline-text-1" id="text-4">

<p><a href="https://dl.dropboxusercontent.com/u/20940723/2013_11_29.mp3">Пример композиции, записанной в Linux</a>.
</p>
<p>
Записывал я сам специально для Basslife.ru
</p>
<p>
Запись не подвергалась никакой обработке (разве что компрессором бас поджал). Все дорожки оставлены в том виде, в котором были записаны.<br/>
Все инструменты (бас и гитара) были подключены напрямую в звуковую карту - никаких микрофонов или чего-то ещё.<br/>
Для гитарного звука использовались Rakarrack (чистый) и Guitarix (перегруженный).<br/>
Бас писался "как есть".<br/>
На барабанах играет Hydrogen.
</p>
<p>
<a href="https://dl.dropboxusercontent.com/u/20940723/convolver_test.ogg">Ещё один пример композиции</a>
</p>
<p>
Снова я писал сам все инструменты.
</p>
<p>
Общий микс обработан ревербом и V-образным эквалайзером.<br/>
Все инструменты писались через <a href="#sec-3-13">ir.lv2</a> с использованием откликов достаточно дорогих усилителей :)<br/>
Бас слегка обработан компрессором.<br/>
На соло-участке гитары висит delay.
</p>
</div>

</div>

<div id="outline-container-5" class="outline-1">
<h1 id="sec-5"><span class="section-number-1">5</span> Мои вопросы</h1>
<div class="outline-text-1" id="text-5">

<p>В этой секции я буду описывать те вопросы, ответы на которые не смог найти сам. Если кто-то сможет мне с этим помочь, буду очень благодарен.
</p>
<ol>
<li>Есть ли LV2-плагин preverb'а?
</li>
</ol>




  <div id="disqus_thread"></div>
  <script type="text/javascript">
   /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
   var disqus_shortname = 'northempire'; // required: replace example with your forum shortname

   /* * * DON'T EDIT BELOW THIS LINE * * */
   (function() {
     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
     dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>
</div>
</div>

<div id="postamble">
<div class="postamble-content">
  <div class="pure-g-r">

    <div class="pure-u-1-2">
      <ul class="postamble-copyright">
        <li>Built with <a href="http://purecss.io/">Pure CSS</a></li>
        <li>Created with <a href="http://www.gnu.org/software/emacs/">Emacs</a> and <a href="http://orgmode.org/">Org-Mode</a></li>
        <li><span style="-webkit-transform: rotate(180deg); -moz-transform: rotate(180deg); -o-transform: rotate(180deg); -khtml-transform: rotate(180deg); -ms-transform: rotate(180deg); transform: rotate(180deg); display: inline-block;">
	&copy;
</span> Валентин Ионов, 2014</li>
      </ul>
    </div>

    <div class="pure-u-1-2">
      <ul class="postamble-links">
        <li><a href="https://github.com/vemperor">Github</a></li>
        <li><a href="https://plus.google.com/u/0/111577518760980284675">Google+</a></li>
        <li><a href="https://vk.com/v_emperor">VK</a></li>
      </ul>
    </div>

  </div>
</div>
</div>
</body>
</html>
